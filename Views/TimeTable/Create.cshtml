@model TimeTableViewModel

<h2 align="center">Расписание</h2>
<hr>

@if (Model.TimeTableGroup.Couples.Count < 1)
{
    <form method="get" asp-controller="TimeTable" asp-action="Create">
        <div asp-validation-summary="ModelOnly"></div>
        <h4 align="center">Введите кол-во занятий</h4>
        <div class="form-group">
            <label align="center" name="CoupleCount" class="control-label"></label><br />
            <input class="form-control" type="number" name="CoupleCount" />
            @*<span asp-validation-for="CoupleCount" class="text-danger"></span>*@
        </div>
        <div class="form-group">
            <input type="submit" value="Добавить" class="btn btn-primary btn-block" />
        </div>
    </form>
}
else
{
    <form method="post" asp-controller="TimeTable" asp-action="Create">
        <div asp-validation-summary="ModelOnly"></div>
        <div>

            @*<h4>Добавление расписания</h4>*@
            <div class="row">
                <div class="form-group col">
                    <label asp-for="DateTime" class="control-label"></label><br />
                    <input type="date" asp-for="DateTime" class="form-control" />
                    <span asp-validation-for="DateTime"></span>
                </div>
                <div class="form-group col">
                    <label asp-for="GroupId"></label><br />
                    <select asp-for="GroupId" class="form-control">
                        <option value="0">Не выбрано</option>
                        @foreach (Group group in Model.Groups)
                        {
                            <option value="@group.GroupId">@group.GroupName</option>
                        }
                    </select>
                    <span asp-validation-for="GroupId"></span>
                </div>

            </div>
            @for (int i = 0; i < Model.TimeTableGroup.Couples.Count(); i++)
            {
                for (int j = 0; j < Model.TimeTableGroup.Couples.ElementAt(i).Lessons.Count(); j++)
                {
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label asp-for="@Model.TimeTableGroup.Couples.ElementAt(i).Lessons.ElementAt(j).UserId"></label><br />
                            <select asp-for="@Model.TimeTableGroup.Couples.ElementAt(i).Lessons.ElementAt(j).UserId" class="form-control">
                                <option value="0">Не выбрано</option>
                                @foreach (User teacher in Model.Teachers)
                                {
                                    <option value="@teacher.Id">@teacher.FullName</option>
                                }
                            </select>
                            <span asp-validation-for="@Model.TimeTableGroup.Couples.ElementAt(i).Lessons.ElementAt(j).UserId"></span>
                        </div>
                        <div class="form-group col-md-4">
                            <label asp-for="@Model.TimeTableGroup.Couples.ElementAt(i).Lessons.ElementAt(j).DisciplineId"></label><br />
                            <select asp-for="@Model.TimeTableGroup.Couples.ElementAt(i).Lessons.ElementAt(j).DisciplineId" class="form-control">
                                <option value="0">Не выбрано</option>
                                @foreach (Discipline discipline in Model.Disciplines)
                                {
                                    <option value="@discipline.DisciplineId">@discipline.DisciplineName</option>
                                }
                            </select>
                            <span asp-validation-for="@Model.TimeTableGroup.Couples.ElementAt(i).Lessons.ElementAt(j).DisciplineId"></span>
                        </div>
                        <div class="form-group col-md-4">
                            <label asp-for="@Model.TimeTableGroup.Couples.ElementAt(i).Lessons.ElementAt(j).AudienceId"></label><br />
                            <select asp-for="@Model.TimeTableGroup.Couples.ElementAt(i).Lessons.ElementAt(j).AudienceId" class="form-control">
                                <option value="0">Не выбрано</option>
                                @foreach (Audience audience in Model.Audiences)
                                {
                                    <option value="@audience.AudienceId">@audience.AudienceName</option>
                                }
                            </select>
                            <span asp-validation-for="@Model.TimeTableGroup.Couples.ElementAt(i).Lessons.ElementAt(j).AudienceId"></span>
                        </div>
                    </div>
                }


            }


        </div>
        <div>
            <input type="submit" value="Добавить" class="form-control btn btn-primary btn-block" />
        </div>

    </form>

}


